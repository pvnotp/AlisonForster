<form (ngSubmit)="onSubmit()" [formGroup]="form" novalidate class="contact-form fade-in">
  <div class="field">
    <label for="name">Name</label>
    <input id="name" type="text" formControlName="name" autocomplete="name" [class.err]="controls.name.touched && controls.name.invalid"/>
    @if (controls.name.touched && controls.name.invalid) {
    <div class="err">Please enter your name.</div>
    }
  </div>

  <div class="field">
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email" autocomplete="email" [class.err]="controls.email.touched && controls.email.invalid"/>
    @if (controls.email.touched && controls.email.invalid) {
    <div class="err">Please enter a valid email.</div>
    }
  </div>

  <div class="field">
    <label for="message">Message</label>
    <textarea id="message" rows="5" formControlName="message" [class.err]="controls.message.touched && controls.message.invalid"></textarea>
    @if (controls.message.touched && controls.message.invalid) {
    <div class="err">Please write a short message.</div>
    }
  </div>

  <!-- Honeypot (hidden from humans, visible to simple bots) -->
  <div class="hp">
    <label for="website">Website</label>
    <input id="website" type="text" formControlName="website" tabindex="-1" autocomplete="off" />
  </div>

  <button type="submit" [disabled]="submitting() || form.invalid">
    {{ submitting() ? 'Sendingâ€¦' : 'Send message' }}
  </button>


  @if (submitted() && !errorMsg()) {
  <p class="ok">Thanks! Your message was sent.</p>
  }
  @if (errorMsg() !== '') {
  <p class="err">{{ errorMsg }}</p>
  }
</form>
